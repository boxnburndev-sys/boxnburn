<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8">
  <title>Cookies Consent</title>
  <style>
    :root {
      --primary: #0b2545;
      --accent: #f97316;
      --card-bg: #fff;
      --text: #222;
    }
    body { margin: 0; font-family: "Segoe UI", Roboto, sans-serif; }
    #cookie-banner {
      position: fixed;
      bottom: 0; left: 0; right: 0;
      background: var(--card-bg);
      border-top: 3px solid var(--accent);
      box-shadow: 0 -2px 10px rgba(0,0,0,.15);
      padding: 1rem;
      z-index: 9999;
      display: none;
    }
    #cookie-banner p { margin: 0 0 0.6rem; font-size: 0.9rem; }
    #cookie-banner .buttons {
      display: flex; gap: 0.5rem; flex-wrap: wrap;
    }
    #cookie-banner button {
      border: none; border-radius: 6px;
      padding: 0.6rem 1rem; font-size: 0.9rem;
      cursor: pointer; flex: 1 1 auto;
      transition: background 0.2s ease;
    }
    #accept-all { background: var(--accent); color: #fff; }
    #accept-essential { background: #e5e7eb; color: var(--text); }
    #reject-all { background: #ef4444; color: #fff; }
    #settings { background: var(--primary); color: #fff; }
    #accept-all:hover { background: #c2410c; }
    #reject-all:hover { background: #991b1b; }
    #settings:hover { background: #06172a; }
    /* Modal */
    #cookie-settings {
      display: none; position: fixed; top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,.6); z-index: 10000;
      align-items: center; justify-content: center;
    }
    #cookie-settings .modal {
      background: #fff; padding: 1.5rem;
      border-radius: 12px; width: 90%; max-width: 500px;
    }
    #cookie-settings h2 { margin-top: 0; font-size: 1.2rem; color: var(--primary); }
    #cookie-settings label { display: flex; align-items: center; gap: 0.5rem; margin: 0.5rem 0; }
    #cookie-settings .actions { margin-top: 1rem; display: flex; gap: 0.5rem; }
    #cookie-settings button { flex: 1; }
  </style>
</head>
<body>
  <!-- Banner -->
  <div id="cookie-banner">
    <p>Wij gebruiken cookies om onze site goed te laten werken en uw ervaring te verbeteren. Kies uw voorkeur:</p>
    <div class="buttons">
      <button id="accept-all">Alles accepteren</button>
      <button id="accept-essential">Alleen noodzakelijke</button>
      <button id="reject-all">Alles weigeren</button>
      <button id="settings">Instellingen</button>
    </div>
  </div>

  <!-- Settings modal -->
  <div id="cookie-settings">
    <div class="modal">
      <h2>Cookie-instellingen</h2>
      <label><input type="checkbox" id="analytics"> Analytische cookies</label>
      <label><input type="checkbox" id="marketing"> Marketing cookies</label>
      <div class="actions">
        <button id="save-settings">Opslaan</button>
        <button id="cancel-settings">Annuleren</button>
      </div>
    </div>
  </div>

  <script>
    const banner = document.getElementById("cookie-banner");
    const settingsModal = document.getElementById("cookie-settings");
    const analyticsCb = document.getElementById("analytics");
    const marketingCb = document.getElementById("marketing");

    function saveConsent(consent) {
      localStorage.setItem("cookieConsent", JSON.stringify(consent));
    }

    function getConsent() {
      return JSON.parse(localStorage.getItem("cookieConsent") || "null");
    }

    function applyConsent(consent) {
      if (!consent) return;
      if (consent.analytics) enableAnalytics();
      if (consent.marketing) enableMarketing();
    }

    function enableAnalytics() {
      console.log("Analytics enabled");
      // Example: dynamically load GA script
      // let s=document.createElement("script");
      // s.src="https://www.googletagmanager.com/gtag/js?id=UA-XXXX";
      // document.head.appendChild(s);
    }
    function enableMarketing() {
      console.log("Marketing enabled");
      // Example: dynamically load ads script
    }

    // Show banner if no consent stored
    const storedConsent = getConsent();
    if (!storedConsent) {
      banner.style.display = "block";
    } else {
      applyConsent(storedConsent);
    }

    document.getElementById("accept-all").onclick = () => {
      const consent = { essential: true, analytics: true, marketing: true };
      saveConsent(consent); applyConsent(consent);
      banner.style.display = "none";
    };
    document.getElementById("accept-essential").onclick = () => {
      const consent = { essential: true, analytics: false, marketing: false };
      saveConsent(consent);
      banner.style.display = "none";
    };
    document.getElementById("reject-all").onclick = () => {
      const consent = { essential: false, analytics: false, marketing: false };
      saveConsent(consent);
      banner.style.display = "none";
    };
    document.getElementById("settings").onclick = () => {
      const c = getConsent() || { essential: true, analytics: false, marketing: false };
      analyticsCb.checked = c.analytics;
      marketingCb.checked = c.marketing;
      settingsModal.style.display = "flex";
    };
    document.getElementById("save-settings").onclick = () => {
      const consent = {
        essential: true,
        analytics: analyticsCb.checked,
        marketing: marketingCb.checked
      };
      saveConsent(consent); applyConsent(consent);
      settingsModal.style.display = "none";
      banner.style.display = "none";
    };
    document.getElementById("cancel-settings").onclick = () => {
      settingsModal.style.display = "none";
    };
  </script>
</body>
</html>
